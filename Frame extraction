import os

# need to be installed "brew install ffmpeg"

def frame_extraction(source, folder_frame):

    videos = os.listdir(source)
    for video in videos:
        frame_folder = folder_frame + video.split('.avi')[0]
    if not os.path.exists(frame_folder):
        os.mkdir(frame_folder)

        video_source = source + video
        frame_dest = frame_folder + '/image%d.jpg'
        command = 'ffmpeg -i ' + video_source + ' -q:v 1 ' + frame_dest + ' -hide_banner'
        os.system(command)


source = '/Users/quim/Desktop/untitled/AICity_data/train/S03/c010/'

folder_frame = '/Users/quim/Desktop/untitled/AICity_data/train/S03/c010/video_frames_'

frame_extraction(source, folder_frame)
